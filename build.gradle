plugins {
	id 'java'
	id 'pmd'
	id("se.solrike.sonarlint") version "1.0.0-beta.9"
	id("com.github.spotbugs-base") version "5.0.14"
	id "org.jetbrains.kotlin.jvm" version "${kotlinVersion}"
	id "com.diffplug.spotless" version "${spotlessPluginVersion}"
	id "me.champeau.jmh" version "${jmhPluginVersion}"
	id "io.freefair.lombok" version "${lombokPluginVersion}" apply(false)
	id 'org.jreleaser' version "${jreleaserVersion}"
}

group 'org.daiyuang'
version '1.0-SNAPSHOT'

apply from: "scripts/allProjects.gradle"

spotless {
	java {
		removeUnusedImports()
		importOrder()
		eclipse()
		formatAnnotations()
		//		licenseHeader '/* (C) $YEAR */'
	}

	groovyGradle {
		target '*.gradle'
		greclipse().configFile({
			indentWithTabs(2)
		})
	}

	kotlin {
		ktfmt()
		ktlint()
		diktat()
		prettier()
	}
}

compileJava.dependsOn(spotlessApply)